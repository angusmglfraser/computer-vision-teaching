<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Gaussian Blurring</title>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-MML-AM_CHTML' async></script>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
	 crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
	 crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
	 crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm"
	 crossorigin="anonymous"></script>
	<style>
		body {
			padding-top: 70px;
		}
	</style>
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">

		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault"
		 aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>

		<a class="navbar-brand" href="#">Computer Vision Teaching Materials</a>

		<div class="collapse navbar-collapse" id="navbarsExampleDefault">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item active">
					<a class="nav-link" href="#">Home
						<span class="sr-only">(current)</span>
					</a>
				</li>
				<li class="nav-item active">
					<a class="nav-link" href="#"> Link </a>
				</li>
				<li class="nav-item active">
					<a class="nav-link" href="#"> Link </a>
				</li>
				<li class="nav-item active">
					<a class="nav-link" href="#"> Link </a>
				</li>
			</ul>
		</div>
	</nav>
	<main role="main" class="container">
		<h1>Image smoothing with Gaussian Blurring</h1>
		<p>
			In anything that deals with sensor data, there will inevitably be some noise. One way to deal with noise in image data is
			to blur the image using a Gaussian function. A Gaussian blur is essentially a function where each pixel in an output image
			is equal to a weighted average of it's neighbouring pixels, where the weights are given according to a normal distribution.
			The function to calculate the values for a Gaussian convolution matrix is:
		</p>

		\(G(x,y)=\frac{1}{{2\pi\sigma^2}}e^{-\frac{x^2+y^2}{2\sigma^2}}\)

		<p>Where \(x\) and \(y\) are the distance from the center, and \(\sigma\) is the standard deviation.  </p>

		<p>Since the kernels for Gaussian blurring are always symmetrical, a square 2x2 kernel doesn't need to be necessarily used for the convolution. To optimise the process, a 1-dimensional kernel is calculated with the same width and standard deviation. The input image is then convolved with the vertical version of that kernel, and the result of that convolution is convolved with the horizontal version of that kernel. This significantly reduces the number of calculations done each frame. </p>
		<div class="row">
			<div class="col text-center">
				<div class="form-group">
					<label for="kernelSize">Kernel Width</label>
					<input id="kernelSize" type="number" value="3" step="2"></input>
					<label for="stdDev">Standard Deviation</label>
					<input id="stdDev" type="number" value="3"></input>
					<br />
					<label for="matrix">Kernel: </label>
					<div id="matrix"></div>
					<button class="btn btn-dark" id="startBtn">Start Convolving</button>
					<button class="btn btn-dark" id="stopBtn">Stop Convolving</button>

					<br />
				</div>

				<canvas id="camfeed"></canvas>
				<canvas id="convolutionout"></canvas>
				<canvas id="zoomwindow"></canvas>
			</div>
		</div>


		<video id="webcam" autoplay style="display: none"></video>

	</main>

	<script src="js/bundles/gauss.js"></script>
</body>

</html>